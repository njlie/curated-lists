doctype html
html
  head
    script(src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous")
    link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous")
    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous")
    link(rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous")
    link(rel="stylesheet" href="/style.css")
  body
    nav.navbar.navbar-dark.bg-dark(id="header")
      p.navbar-brand Cool Compilations for Cool People
      button.navbar-toggler(type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation")
        span.navbar-toggler-icon
      div.collapse.navbar-collapse(id="navbarSupportedContent")
        ul.navbar-nav.mr-auto
          li.nav-item.active
            a.nav-link(href="#") Home
              span.sr-only (current)
          li.nav-item
            a.nav-link(id="addPost") Add List
          //- li.nav-item
          //-   a.nav-link(id="login" href="/account/signin") Sign In
          //- li.nav-item
          //-   a.nav-link(id="create" href="/account/signup") Create an Account
          li.nav-item.dropdown
            span.nav-link.dropdown-toggle(style="display: inline-block;" href="#" id="accountDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false")
              i.fas.fa-user(style="margin-right: 1rem;")
              a.nav-link(href="#" style="display: inline-block") Account
            div.dropdown-menu(aria-labelledby="accountDropdown")
              a.dropdown-item(id="accountSettings") Settings
              a.dropdown-item(id="signout" href="#") Sign Out
          //- li.nav-item
          //-   a.nav-link(id="signout") Sign Out
    div.container(id="toolbar-container" style="text-align: center;")
      span(class="toolbar", data-index="0")
        i.fas.fa-lg.fa-music(style="margin-right: 0.5rem;")
        h3(style="display: inline-block;") Music
      span(class="toolbar", data-index="1")
        i.fas.fa-lg.fa-video(style="margin-right: 0.5rem;")
        h3(style="display: inline-block;") Videos
      span(class="toolbar", data-index="2")
        i.fas.fa-lg.fa-image(style="margin-right: 0.5rem;")
        h3(style="display: inline-block;") Images
      span(class="toolbar", data-index="4")
        i.fas.fa-lg.fa-newspaper(style="margin-right: 0.5rem;")
        h3(style="display: inline-block;") Blogs
      span(class="toolbar", data-index="3")
        i.fas.fa-lg.fa-gamepad(style="margin-right: 0.5rem;")
        h3(style="display: inline-block;") Games
    div.container(id="card-container" style="text-align: left; overflow: scroll;")
      //- div.accordion(id="accordionList" style="position: initial;")
      while n < 5
        div.card(data-category=icon[categories[randVals[n]]] style="width: 36rem;")
          div.card-header(style="padding: 0 1.25rem;")
            h5.md-0(style="margin-bottom: 0")
              div.row
                div.col-1
                  i.fas.fa-lg(class="fa-"+icon[categories[randVals[n]]] style="padding: 0.6rem 0")
                div.col
                  button.btn.btn-link List #{n++}
          div.card-body(style="height: 26rem;") List Content
            | Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vel enim nec est posuere ornare. Pellentesque porta ligula in felis posuere, vel vehicula arcu sagittis. In a turpis laoreet, pretium augue vitae, posuere velit. Suspendisse potenti. Pellentesque nec erat massa. Vivamus porta justo elit, eget pellentesque nulla sagittis ut. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; In lobortis, ex eget molestie pharetra, ante massa egestas magna, et cursus dolor mauris vitae felis. In non massa a erat pulvinar consequat. Nunc id consectetur leo, sit amet vehicula nisl. Morbi vitae suscipit tortor.
      div.border(id="hidden-content" style="text-align: center; margin: 1rem auto; width: 36rem;")
        h3 There is more here than at first glance...
        h5 Start using #[a(href="https://medium.com/interledger-blog/replace-ads-with-web-monetization-239ce1930f3d") Web Monetization] to see the rest.
  script.
    var paid = false
    const rand = [#{randVals}]
    const categories = "#{data.categories}".split(',')
    const icons = "#{data.fontawesomeArray}".split(',')
    $(document).ready(function () {
      
      $('.toolbar').on('click', function(event) {
        if (this.classList.contains("active")) {
          this.classList.remove('active')
        } else {
          this.classList.add('active')
        }
        const selected = document.querySelectorAll('.toolbar.active')
        var activated = []
        for(var i = 0; i < selected.length; ++i) {
          activated.push(selected[i].dataset.index)
        }
        var cards = []
        var max = 5
        if (paid) {
          max = rand.length
        }
        for(var index = 0; index < max; ++index) {
          if (activated.includes(rand[index].toString()) || activated.length === 0) {
            var cat = categories[rand[index]]
            var card = `
            <div class="card" style="width: 36rem;">
              <div class="card-header">
                <h5 class="md-0">
                  <i class="fas fa-sm fa-${icons[rand[index]]}"></i>
                  <button class="btn btn-link">
                    List ${index}
                  </button>
                </h5>
              </div>
              <div class="card-body" style="height: 26rem;">
                List ContentLorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vel enim nec est posuere ornare. Pellentesque porta ligula in felis posuere, vel vehicula arcu sagittis. In a turpis laoreet, pretium augue vitae, posuere velit. Suspendisse potenti. Pellentesque nec erat massa. Vivamus porta justo elit, eget pellentesque nulla sagittis ut. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; In lobortis, ex eget molestie pharetra, ante massa egestas magna, et cursus dolor mauris vitae felis. In non massa a erat pulvinar consequat. Nunc id consectetur leo, sit amet vehicula nisl. Morbi vitae suscipit tortor.
              </div>
            </div>`
            cards.push(card)
          }
        }
        const cardHTML = cards.join('')
        $('#card-container').html(cardHTML)
      })
    })
  script.
    if (window.monetize) {
      monetize({
        receiver: '$ildm.localtunnel.me'
      }).then(() => {
        paid = true
        document.getElementById('toolbar-container').append('Thanks for paying!')
        document.getElementById('hidden-content').remove()
        document.getElementById('addPost').setAttribute('href', '/post')
        cards = []
        for(var index = 0; index < rand.length; ++index) {
          var cat = categories[rand[index]]
            var card = `
            <div class="card" style="width: 36rem;">
              <div class="card-header">
                <h5 class="md-0">
                  <i class="fas fa-sm fa-${icons[rand[index]]}"></i>
                  <button class="btn btn-link">
                    List ${index}
                  </button>
                </h5>
              </div>
              <div class="card-body" style="height: 26rem;">
                List ContentLorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vel enim nec est posuere ornare. Pellentesque porta ligula in felis posuere, vel vehicula arcu sagittis. In a turpis laoreet, pretium augue vitae, posuere velit. Suspendisse potenti. Pellentesque nec erat massa. Vivamus porta justo elit, eget pellentesque nulla sagittis ut. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; In lobortis, ex eget molestie pharetra, ante massa egestas magna, et cursus dolor mauris vitae felis. In non massa a erat pulvinar consequat. Nunc id consectetur leo, sit amet vehicula nisl. Morbi vitae suscipit tortor.
              </div>
            </div>`
          cards.push(card)
        }
        const cardHTML = cards.join('')

        $('#card-container').html(cardHTML)
      })
    }